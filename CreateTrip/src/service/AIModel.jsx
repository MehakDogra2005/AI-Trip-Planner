import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate travel plan for location : Las Vegas for three days for couple with a cheap budget . give me a hotels options list with hotelName, hotel address, Price, hotel image url, geo coordinates,rating,description and suggest itenary with placeName, placeDetails,Place image url and geo coordinates,ticket pricing, rating , Time travel each of the location for 3 days with each day plan with best time to visit in json format.\n\n" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "Okay, here's a possible three-day budget-friendly Las Vegas itinerary for a couple, along with hotel options and details in JSON format.  I've focused on free or low-cost activities and affordable hotels, keeping in mind that \"cheap\" in Vegas is relative, especially on the Strip.\n\n```json\n{\n  \"travelPlan\": {\n    \"location\": \"Las Vegas\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n     \"travelers\": \"Couple\",\n    \"hotelOptions\": [\n      {\n        \"hotelName\": \"Circus Circus Hotel & Casino\",\n        \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"$40-$80/night\",\n        \"hotelImageURL\": \"https://example.com/circus_circus.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1299,\n            \"longitude\": -115.1660\n        },\n        \"rating\": 3.5,\n        \"description\": \"A classic, budget-friendly option on the Strip with a circus theme. Offers basic rooms and family-friendly attractions.\"\n      },\n      {\n        \"hotelName\": \"Strat Hotel, Casino & SkyPod\",\n         \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n        \"price\": \"$50-$90/night\",\n         \"hotelImageURL\": \"https://example.com/strat_hotel.jpg\",\n          \"geoCoordinates\": {\n             \"latitude\": 36.1460,\n             \"longitude\": -115.1560\n        },\n        \"rating\": 4.0,\n        \"description\": \"Located at the north end of the Strip, offering good views and reasonable prices, with a thrilling sky tower experience (additional cost).\"\n      },\n       {\n        \"hotelName\": \"Excalibur Hotel & Casino\",\n        \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n         \"price\": \"$45-$85/night\",\n        \"hotelImageURL\": \"https://example.com/excalibur.jpg\",\n         \"geoCoordinates\": {\n             \"latitude\": 36.0973,\n            \"longitude\": -115.1744\n         },\n        \"rating\": 3.8,\n         \"description\": \"A themed hotel with a medieval castle design, offering affordable accommodation and casual dining options.\"\n      }\n\n    ],\n    \"itinerary\": {\n      \"day1\": {\n         \"theme\":\"Exploring the Strip South\",\n        \"bestTimeToVisit\": \"Afternoon/Evening\",\n        \"activities\": [\n          {\n            \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n            \"placeDetails\": \"Take the classic photo at the iconic sign. It's free and a must-do in Vegas.\",\n             \"placeImageURL\": \"https://example.com/welcome_sign.jpg\",\n               \"geoCoordinates\": {\n                  \"latitude\": 36.0828,\n                   \"longitude\": -115.1725\n                },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.5,\n            \"travelTime\":\"N/A\"\n           },\n          {\n            \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n            \"placeDetails\": \"Walk through the stunning indoor garden, which changes with the seasons. It's free to enter and beautiful.\",\n            \"placeImageURL\": \"https://example.com/bellagio_gardens.jpg\",\n               \"geoCoordinates\": {\n                   \"latitude\": 36.1128,\n                   \"longitude\": -115.1739\n                },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.8,\n            \"travelTime\":\"10 minutes by car or 20 minutes by walk\"\n           },\n           {\n            \"placeName\": \"Bellagio Fountains\",\n            \"placeDetails\": \"Watch the mesmerizing water show set to music. It's free and happens frequently throughout the day and evening.\",\n             \"placeImageURL\": \"https://example.com/bellagio_fountains.jpg\",\n               \"geoCoordinates\": {\n                   \"latitude\": 36.1125,\n                   \"longitude\": -115.1742\n                },\n            \"ticketPricing\": \"Free\",\n             \"rating\": 4.9,\n            \"travelTime\":\"Adjacent to the Conservatory\"\n            },\n             {\n            \"placeName\":\"Mirage Volcano\",\n            \"placeDetails\":\"See the erupting volcano at The Mirage.A free show with fire and water effects\",\n             \"placeImageURL\":\"https://example.com/mirage_volcano.jpg\",\n                 \"geoCoordinates\": {\n                   \"latitude\": 36.1205,\n                   \"longitude\": -115.1723\n                  },\n             \"ticketPricing\":\"Free\",\n             \"rating\": 4.6,\n              \"travelTime\":\"15 minutes by walk\"\n\n          },\n            {\n              \"placeName\": \"Explore Linq Promenade\",\n              \"placeDetails\": \"Stroll through the outdoor shopping and dining area. Enjoy street performers and people watching.\",\n              \"placeImageURL\": \"https://example.com/linq_promenade.jpg\",\n                \"geoCoordinates\": {\n                 \"latitude\": 36.1167,\n                 \"longitude\": -115.1692\n                },\n              \"ticketPricing\": \"Free (unless you purchase food/drinks)\",\n               \"rating\": 4.3,\n               \"travelTime\":\"10 minutes by walk\"\n            }\n\n        ]\n      },\n      \"day2\": {\n        \"theme\": \"Downtown Las Vegas Exploration\",\n        \"bestTimeToVisit\":\"Morning/Afternoon\",\n        \"activities\": [\n           {\n             \"placeName\": \"Fremont Street Experience\",\n             \"placeDetails\": \"Walk under the Viva Vision canopy, a large LED screen that shows light shows and concerts. Explore the various street performers. Free entry to the Fremont Street.\",\n              \"placeImageURL\": \"https://example.com/fremont_street.jpg\",\n                 \"geoCoordinates\": {\n                   \"latitude\": 36.1706,\n                   \"longitude\": -115.1401\n                  },\n             \"ticketPricing\": \"Free\",\n             \"rating\": 4.5,\n              \"travelTime\":\"20 to 30 minutes by car or bus\"\n            },\n             {\n             \"placeName\": \"Container Park\",\n              \"placeDetails\": \"Explore this unique shopping and entertainment area built out of shipping containers. It's free to enter and wander.\",\n              \"placeImageURL\": \"https://example.com/container_park.jpg\",\n                \"geoCoordinates\": {\n                   \"latitude\": 36.1712,\n                   \"longitude\": -115.1377\n                  },\n             \"ticketPricing\": \"Free\",\n             \"rating\": 4.2,\n              \"travelTime\":\"5 minutes by walk from the Fremont Street Experience\"\n           },\n          {\n            \"placeName\": \"Gold & Silver Pawn Shop\",\n            \"placeDetails\": \"Visit the famous pawn shop from the 'Pawn Stars' TV show. Free entry. Note: it can be crowded.\",\n             \"placeImageURL\": \"https://example.com/pawn_shop.jpg\",\n                 \"geoCoordinates\": {\n                   \"latitude\": 36.1695,\n                   \"longitude\": -115.1507\n                },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 3.9,\n             \"travelTime\":\"10 minutes by car\"\n           },\n          {\n            \"placeName\": \"Arts District\",\n            \"placeDetails\": \"Explore the murals and galleries in the Arts District. There are several free events and exhibitions.\",\n             \"placeImageURL\": \"https://example.com/arts_district.jpg\",\n               \"geoCoordinates\": {\n                   \"latitude\": 36.1533,\n                   \"longitude\": -115.1461\n                },\n            \"ticketPricing\": \"Free (unless you enter specific galleries)\",\n             \"rating\": 4.4,\n             \"travelTime\":\"10 minutes by car from the Gold & Silver pawn shop\"\n          }\n\n        ]\n      },\n      \"day3\": {\n         \"theme\":\"Exploring the Strip North\",\n        \"bestTimeToVisit\": \"Afternoon/Evening\",\n        \"activities\": [\n          {\n            \"placeName\": \"The Venetian & Grand Canal Shoppes\",\n            \"placeDetails\": \"Stroll through the recreation of Venice, see the canals and gondolas. It's free to walk through, but gondola rides are extra.\",\n            \"placeImageURL\":\"https://example.com/venetian.jpg\",\n               \"geoCoordinates\": {\n                   \"latitude\": 36.1214,\n                    \"longitude\": -115.1695\n                 },\n            \"ticketPricing\": \"Free (unless you take gondola rides)\",\n            \"rating\": 4.7,\n            \"travelTime\":\"10 to 15 minutes by car or 20 minutes by walk\"\n          },\n          {\n             \"placeName\": \"Treasure Island Sirens Show\",\n             \"placeDetails\": \"Watch the free pirate show at Treasure Island. It's a spectacle of singing, dancing, and pyrotechnics.\",\n             \"placeImageURL\":\"https://example.com/treasure_island.jpg\",\n               \"geoCoordinates\": {\n                   \"latitude\": 36.1245,\n                   \"longitude\": -115.1708\n                 },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.3,\n             \"travelTime\":\"Adjacent to the Venetian\"\n           },\n          {\n            \"placeName\":\"High Roller Observation Wheel\",\n             \"placeDetails\":\"Take a ride on the High Roller for panoramic views of Las Vegas. It's a good place to see the city from above (Note: This activity will cost about $30 - $40 per person)\",\n            \"placeImageURL\":\"https://example.com/high_roller.jpg\",\n             \"geoCoordinates\": {\n                \"latitude\": 36.1169,\n                \"longitude\": -115.1697\n              },\n            \"ticketPricing\":\"$30-$40 per person\",\n            \"rating\":4.6,\n            \"travelTime\":\"5 minutes by walk\"\n           },\n             {\n            \"placeName\": \"Walking the Strip\",\n            \"placeDetails\": \"End the trip with a casual walk down the Strip. Enjoy the neon lights, people watch, and soak in the atmosphere.\",\n             \"placeImageURL\": \"https://example.com/las_vegas_strip.jpg\",\n             \"geoCoordinates\": {\n                 \"latitude\": 36.1165,\n                 \"longitude\": -115.1702\n                 },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.7,\n             \"travelTime\":\"N/A\"\n           }\n\n        ]\n      }\n    }\n  }\n}\n```\n**Notes on the Plan:**\n\n* **Transportation:**  Walking is great for the Strip. Utilize the bus for Downtown. Ride-sharing services or taxis can be considered for longer distances or if the weather is unpleasant.\n* **Food:** To save money, consider:\n    *   Buying snacks and drinks at convenience stores instead of hotel shops.\n    *   Having at least one meal a day at affordable eateries outside of the main tourist areas.\n    *   Sharing dishes at restaurants.\n* **Flexibility:**  This itinerary is a suggestion; feel free to adjust it based on your interests and energy levels.\n* **Hotel Prices:**  The provided price ranges are estimates. Prices vary greatly depending on the time of year and demand, so be sure to book in advance and compare prices across different booking sites.\n* **Image URLs:**  Please replace the placeholder URLs with actual image URLs.\n\n**Important Budget Reminders:**\n\n*   **Free Activities:**  This itinerary focuses on free or very low-cost activities.\n*  **Gambling:** Setting a strict gambling budget is crucial and avoid it for better saving.\n*   **Drinks:**  Buying alcohol from convenience stores and having drinks in your room can be far less expensive than drinking in bars on the Strip.\n*   **Souvenirs:** Keep an eye on any souvenir purchases as small items add up fast, set a budget and stick to it.\n*   **Hidden Costs:** Don't forget to factor in taxes, resort fees, and gratuities.\n\nThis should give you a solid framework for your budget-friendly Vegas trip! Have a great time!\n" },
            ],
        },
    ],
});

